<!-- Portfolio Grid Section -->
<!-- Datum moet vooraan in YYYY-MM-DD formaat staan in markdown file name -->
<!-- Order is based on order in explorer, the lowest is read first, so order it with dates then alphabetical -->
<!-- Don't forget to insert modal ID for new posts -->
<section id="portfolio">
  <div class="container portfolio-flex-grid">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2>Portfolio</h2>
      </div>
    </div>

    <div class="portfolio-flex-row">
      <!-- First 6 visible items -->
      {% for post in site.posts limit: 6 %}
      <div class="portfolio-flex-item portfolio-item">
        <a href="#portfolioModal-{{ post.modal-id }}" class="portfolio-link" data-toggle="modal">
          <img src="{{ post.small-img }}" class="img-responsive portfolio-image" alt="{{ post.alt }}">
          <h3 class="portfolio-title">{{ post.title }}</h3>
        </a>
      </div>
      {% endfor %}
      
      <!-- Hidden items, with 'hidden-item' class -->
      {% for post in site.posts offset: 6 %}
      <div class="portfolio-flex-item portfolio-item hidden-item">
        <a href="#portfolioModal-{{ post.modal-id }}" class="portfolio-link" data-toggle="modal">
          <img src="{{ post.small-img }}" class="img-responsive portfolio-image" alt="{{ post.alt }}">
          <h3 class="portfolio-title">{{ post.title }}</h3>
        </a>
      </div>
      {% endfor %}
    </div>

    <!-- See More button -->
    <button id="seeMoreBtnPort" class="btn btn-success">See More</button>
  </div>
</section>

<style>
 /* Flexbox Portfolio Grid */
.portfolio-flex-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
}

/* Initially hide the hidden items */
.hidden-item {
  visibility: hidden;
  opacity: 0;
  max-height: 0;
  transition: all 0.5s ease;
  flex: 0 0 0; /* Prevent hidden items from taking space */
  margin: 0;
  padding: 0;
}

/* Reveal hidden items */
.show .hidden-item {
  visibility: visible;
  opacity: 1;
  max-height: 1000px; /* Adjust based on content height */
  flex: 1 0 32%;
  max-width: 32%; /* Same as for other items */
  margin: 0 0 15px;
  padding: 15px;
}

/* Ensure grid layout is consistent */
@media (min-width: 640px) {
  .portfolio-flex-item {
    flex: 1 0 49%;
    max-width: 49%;
  }
}

@media (min-width: 960px) {
  .portfolio-flex-item {
    flex: 1 0 32%;
    max-width: 32%;
  }
}
  </style>
  
  <!-- See More button JS script -->
  <script>
    document.getElementById("seeMoreBtnPort").addEventListener("click", function() {
      var hiddenItems = document.querySelectorAll(".hidden-item");
      var btnText = this;
  
      hiddenItems.forEach(function(item) {
        item.classList.toggle("show");
      });
  
      if (btnText.textContent === "See More") {
        btnText.textContent = "See Less";
      } else {
        btnText.textContent = "See More";
      }
    });
  </script>